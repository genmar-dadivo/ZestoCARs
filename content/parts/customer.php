<div class="modal fade" id="customer-settings" tabindex="-1" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <nav class="navbar">
            </nav>
            <div class="modal-body">
                Customer Data Filter
            </div>
        </div>
    </div>
</div>
<div class="col-lg-12 hidden" id="tCresultdiv">
    <div class="container">
        <div class="row">
            <div class="card mt-5 border-0">
                <div class="card-body">
                    <div class="mt-5">
                        <table id="tcustomer" class="table table-striped responsive nowrap" width="100%">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>DBNO</th>
                                    <th>CUSNO</th>
                                    <th>SALESPERSON</th>
                                    <th>CUSNAME</th>
                                    <th>ADDRSS #1</th>
                                    <th>ADDRSS #2</th>
                                    <th>CITY</th>
                                    <th>STATES</th>
                                    <th>ZIP</th>
                                    <th>COUNTRY</th>
                                    <th>CONTACT #1</th>
                                    <th>CONTACT #2</th>
                                    <th>PHONE #1</th>
                                    <th>PHONE #2</th>
                                    <th>PHONE EXT #1</th>
                                    <th>PHONE EXT #2</th>
                                    <th>FAX</th>
                                    <th>STARTDATE</th>
                                    <th>CUST TYPE CODE</th>
                                    <th>BAL METH</th>
                                    <th>STM FREQ</th>
                                    <th>CREDIT LIMIT</th>
                                    <th>CREDIT RATING</th>
                                    <th>HOLD FG</th>
                                    <th>COLLECTOR</th>
                                    <th>FIN CHG FG</th>
                                    <th>CUS ORIGIN</th>
                                    <th>Filler #3</th>
                                    <th>TERR</th>
                                    <th>CURR CODE</th>
                                    <th>PAR CUS NO</th>
                                    <th>PAR CUS FG</th>
                                    <th>SHIP VIA CODE</th>
                                    <th>UPS ZONE</th>
                                    <th>AR TERMS</th>
                                    <th>DISCOUNT %</th>
                                    <th>YTD DISCOUNT GIVEN</th>
                                    <th>TAX BAL FG</th>
                                    <th>TAX CODE #1</th>
                                    <th>TAX CODE #2</th>
                                    <th>TAX CODE #3</th>
                                    <th>EXCEMPT NO</th>
                                    <th>SLS PTD</th>
                                    <th>SLS YTD</th>
                                    <th>SLS LASTYEAR</th>
                                    <th>COST PTD</th>
                                    <th>COST YTD</th>
                                    <th>COST LASTYEAR</th>
                                    <th>BALANCE</th>
                                    <th>HIGH BALANCE</th>
                                    <th>LAST SALE DATE</th>
                                    <th>LAST SALE AMOUNT</th>
                                    <th>INV YTD</th>
                                    <th>INV LASTYEAR</th>
                                    <th>PAID INV YTD</th>
                                    <th>LASTPAY DATE</th>
                                    <th>LASTPAY AMOUNT</th>
                                    <th>AVERAGEPAY YTD</th>
                                    <th>AVERAGEPAY LASTYEAR</th>
                                    <th>LASTSTMAGE DATE</th>
                                    <th>AMOUNT AGEPROD #1</th>
                                    <th>AMOUNT AGEPROD #2</th>
                                    <th>AMOUNT AGEPROD #3</th>
                                    <th>AMOUNT AGEPROD #4</th>
                                    <th>ALLOW SB ITEM</th>
                                    <th>ALLOW BO</th>
                                    <th>ALLOW PARTSHIP</th>
                                    <th>PRINT DUNN FG</th>
                                    <th>COMMENT #1</th>
                                    <th>COMMENT #2</th>
                                    <th>VEND NO</th>
                                    <th>TAX SCHED</th>
                                    <th>CC DESC #1</th>
                                    <th>CC ACCOUNT #1</th>
                                    <th>CC EXPDATE #1</th>
                                    <th>CC DESC #2</th>
                                    <th>CC ACCOUNT #2</th>
                                    <th>CC EXPDATE #2</th>
                                    <th>USERFIELD #1</th>
                                    <th>USERFIELD #2</th>
                                    <th>USERFIELD #3</th>
                                    <th>USERFIELD #4</th>
                                    <th>USERFIELD #5</th>
                                    <th>DFLT INV FORM</th>
                                    <th>LOCATION</th>
                                    <th>NOTE #1</th>
                                    <th>NOTE #2</th>
                                    <th>NOTE #3</th>
                                    <th>NOTE #4</th>
                                    <th>NOTE #5</th>
                                    <th>USER DATE</th>
                                    <th>USER AMOUNT</th>
                                    <th>AMOUNT AGE OETERM</th>
                                    <th>CUST ALT ADR CODE</th>
                                    <th>RFC NO</th>
                                    <th>EMAIL ADDRESS</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th></th>
                                    <th>DBNO</th>
                                    <th>CUSNO</th>
                                    <th>SALESPERSON</th>
                                    <th>CUSNAME</th>
                                    <th>ADDRSS #1</th>
                                    <th>ADDRSS #2</th>
                                    <th>CITY</th>
                                    <th>STATES</th>
                                    <th>ZIP</th>
                                    <th>COUNTRY</th>
                                    <th>CONTACT #1</th>
                                    <th>CONTACT #2</th>
                                    <th>PHONE #1</th>
                                    <th>PHONE #2</th>
                                    <th>PHONE EXT #1</th>
                                    <th>PHONE EXT #2</th>
                                    <th>FAX</th>
                                    <th>STARTDATE</th>
                                    <th>CUST TYPE CODE</th>
                                    <th>BAL METH</th>
                                    <th>STM FREQ</th>
                                    <th>CREDIT LIMIT</th>
                                    <th>CREDIT RATING</th>
                                    <th>HOLD FG</th>
                                    <th>COLLECTOR</th>
                                    <th>FIN CHG FG</th>
                                    <th>CUS ORIGIN</th>
                                    <th>Filler #3</th>
                                    <th>TERR</th>
                                    <th>CURR CODE</th>
                                    <th>PAR CUS NO</th>
                                    <th>PAR CUS FG</th>
                                    <th>SHIP VIA CODE</th>
                                    <th>UPS ZONE</th>
                                    <th>AR TERMS</th>
                                    <th>DISCOUNT %</th>
                                    <th>YTD DISCOUNT GIVEN</th>
                                    <th>TAX BAL FG</th>
                                    <th>TAX CODE #1</th>
                                    <th>TAX CODE #2</th>
                                    <th>TAX CODE #3</th>
                                    <th>EXCEMPT NO</th>
                                    <th>SLS PTD</th>
                                    <th>SLS YTD</th>
                                    <th>SLS LASTYEAR</th>
                                    <th>COST PTD</th>
                                    <th>COST YTD</th>
                                    <th>COST LASTYEAR</th>
                                    <th>BALANCE</th>
                                    <th>HIGH BALANCE</th>
                                    <th>LAST SALE DATE</th>
                                    <th>LAST SALE AMOUNT</th>
                                    <th>INV YTD</th>
                                    <th>INV LASTYEAR</th>
                                    <th>PAID INV YTD</th>
                                    <th>LASTPAY DATE</th>
                                    <th>LASTPAY AMOUNT</th>
                                    <th>AVERAGEPAY YTD</th>
                                    <th>AVERAGEPAY LASTYEAR</th>
                                    <th>LASTSTMAGE DATE</th>
                                    <th>AMOUNT AGEPROD #1</th>
                                    <th>AMOUNT AGEPROD #2</th>
                                    <th>AMOUNT AGEPROD #3</th>
                                    <th>AMOUNT AGEPROD #4</th>
                                    <th>ALLOW SB ITEM</th>
                                    <th>ALLOW BO</th>
                                    <th>ALLOW PARTSHIP</th>
                                    <th>PRINT DUNN FG</th>
                                    <th>COMMENT #1</th>
                                    <th>COMMENT #2</th>
                                    <th>VEND NO</th>
                                    <th>TAX SCHED</th>
                                    <th>CC DESC #1</th>
                                    <th>CC ACCOUNT #1</th>
                                    <th>CC EXPDATE #1</th>
                                    <th>CC DESC #2</th>
                                    <th>CC ACCOUNT #2</th>
                                    <th>CC EXPDATE #2</th>
                                    <th>USERFIELD #1</th>
                                    <th>USERFIELD #2</th>
                                    <th>USERFIELD #3</th>
                                    <th>USERFIELD #4</th>
                                    <th>USERFIELD #5</th>
                                    <th>DFLT INV FORM</th>
                                    <th>LOCATION</th>
                                    <th>NOTE #1</th>
                                    <th>NOTE #2</th>
                                    <th>NOTE #3</th>
                                    <th>NOTE #4</th>
                                    <th>NOTE #5</th>
                                    <th>USER DATE</th>
                                    <th>USER AMOUNT</th>
                                    <th>AMOUNT AGE OETERM</th>
                                    <th>CUST ALT ADR CODE</th>
                                    <th>RFC NO</th>
                                    <th>EMAIL ADDRESS</th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="hidden">
</div>
<script>
    $("#customer-settings").on("change", function() {
        var d = new Date();
        var gettime = d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();
        console.log('%cStarts @ ' + gettime, 'background: #222; color: #bada55');
        var table = $('#tcustomer').DataTable({
            dom: 'Bfrtip',
            "oLanguage": { "sSearch": "" },
            buttons: [
                {
                    extend: "excel",
                    className: "btn btn-sm btn-primary",
                    text: 'Export',
                    filename: 'Customer List',
                    init: function(api, node, config) { $(node).removeClass('dt-button') }
                },
                {
                    extend: "copy",
                    className: "btn btn-sm btn-primary",
                    text: 'Copy',
                    init: function(api, node, config) { $(node).removeClass('dt-button') }
                },
                {
                    extend: "print",
                    className: "btn btn-sm btn-primary",
                    text: 'Print',
                    title: function(){
                        var printTitle = 'Sales Report';
                        return printTitle
                    },
                    init: function(api, node, config) { $(node).removeClass('dt-button') }
                },
            ],
            "ajax": {
                'type': 'POST',
                'url': '../action/getCustomerdata.php',
            },
            initComplete: function () {
                var nd = new Date();
                var ngettime = nd.getHours() + ':' + nd.getMinutes() + ':' + nd.getSeconds();
                console.log('Finish @ ' + ngettime);
                var diff = Math.abs(d - nd),
                min = Math.floor((diff/1000/60) << 0),
                sec = Math.floor((diff/1000) % 60);
                console.log('Duration ' + min + ':' + sec);
                this.api().columns().every( function () {
                    var that = this;
                    $('input', this.footer()).on('keyup change clear', function () {
                        if ( that.search() !== this.value ) { that.search(this.value).draw(); }
                    });
                });
            }
        });
    });
    $(document).ready(function() {
        $('#customer-settings').appendTo("body");
        $('#customer-settings').modal('show', {backdrop: 'static', keyboard: false});
    });
    $("#customer-settings").dblclick(function(e) { if (e.ctrlKey) { $('#customer-settings').modal("hide"); } });
</script>